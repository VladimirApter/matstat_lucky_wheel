<!DOCTYPE html>
<html>
<head>
    <title>MatStat Lucky Wheel</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
<h1>üé° MatStat Lucky Wheel</h1>

<div class="wheel-container">
    <div id="pointer"></div>
    <div id="wheel"></div>
</div>

<div id="result"></div>
<button onclick="startSpin()" id="spinButton">–ö—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ! üé∞</button>

<table>
    <thead>
    <tr>
        <th>–¶–≤–µ—Ç</th>
        <th>–°—Ç—É–¥–µ–Ω—Ç</th>
        <th>–ë–∞–ª–ª—ã</th>
        <th>–®–∞–Ω—Å</th>
    </tr>
    </thead>
    <tbody>
    {% for student in students %}
    <tr>
        <td>
            <div class="student-color"
                 style="background: {{ student.wheel_color }};
                border-color: {{ student.border_color }};">
            </div>
        </td>
        <td>{{ student.name }}</td>
        <td>{{ student.score }}</td>
        <td>{{ student.probability|round(2) }}%</td>
    </tr>
    {% endfor %}
    </tbody>
</table>

<script type="text/javascript">
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
    const students = {{ students|tojson|safe }};
    students.forEach((student, index) => {
        const hue = (index * 360 / students.length) % 360;
        student.color = `hsl(${hue}, 70%, 50%)`;
    });
</script>
<script src="{{ url_for('static', filename='js/wheel.js') }}"></script>
</body>
</html>